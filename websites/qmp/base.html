<!DOCTYPE html>
<html style="overflow-y: hidden;" lang="en">

<head>
  <title>Quote Maker</title>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <script src="js/script.js" defer></script>
  <link rel="stylesheet" href="css/index.css" id="stylesheet">
  <link rel="apple-touch-icon" sizes="180x180" href="img/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="img/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="img/favicon-16x16.png">
  <link rel="manifest" href="site.webmanifest">
</head>

<body>

  <header>
    <div class="header-container">
      <a href="base.html"><img src="img/android-chrome-192x192.png" class="logo" id="finished" alt="Logo"></a>
      <input class="header-container" value="Business App">
      <div class="dark-container">
        <p class="dark-mode">dark mode</p>
        <label class="switch">
          <input type="checkbox" id="dark-mode-toggle">
          <span class="slider round"></span>
        </label>
      </div>
    </div>
  </header>

  <nav>
    <div class="dropdownapps">
      <span onclick="toggleDropdown()" class="dropbtn">Select App &#8681;</span>
      <div id="myDropdown" class="dropdown-apps"></div>
        <input type="text" autocapitalize="off" for="loadContent" id="iframeSource" placeholder="App name">
        <button id="loadContent">Load Content</button>
    </div>
  </nav>

  <main>
    <section>
      <iframe id="myIframe" src="../../apps/livequote.html" frameBorder="0"></iframe>
    </section>
  </main>

  <footer>
    <a href="index.html">
      <h2 class="copyright">Â© Luis 2023 All rights reserved.</p>
    </a>
  </footer>
  <script>
    function toggleDropdown() {
      document.getElementById("myDropdown").classList.toggle("show");
    }

    window.onclick = function (event) {
      if (!event.target.matches('.dropbtn')) {
        var dropdowns = document.getElementsByClassName("dropdown-apps");
        for (var i = 0; i < dropdowns.length; i++) {
          if (dropdowns[i].classList.contains('show')) {
            dropdowns[i].classList.remove('show');
          }
        }
      }
    }

    var appNames = [
      "livequote",
      "livegaslog",
      "livemileage",
      "livenotes",
      "liveinventory",
      "livedatabase",
      "password",
      "budget",
      "calc",
      "percent",
      "timer",
      "conversion"
    ];

    var pages = appNames.map(function (name) {
      return "../../apps/" + name + ".html";
    });

    var iframe = document.getElementById('myIframe');
    var dropdownContent = document.getElementById('myDropdown');
    var currentIndex = 0;

    function setIframeSrc(index) {
      currentIndex = index;
      iframe.src = pages[index];
    }

    function generateButtons() {
      var buttonsHTML = '';
      appNames.forEach((name, index) => {
        buttonsHTML += `<a onclick="setIframeSrc(${index})">${name.toUpperCase()}</a>`;
      });
      dropdownContent.innerHTML = buttonsHTML;
    }

    window.onload = function () {
      setIframeSrc(currentIndex);
      generateButtons();
    }

    document.getElementById('loadContent').addEventListener('click', loadIframeContent);
    document.getElementById('iframeSource').addEventListener('keyup', function (event) {
      if (event.key === "Enter") {
        loadIframeContent();
      }
    });

    function loadIframeContent() {
      var sourceName = document.getElementById('iframeSource').value;
      var fullPath = "../../apps/" + sourceName + ".html";
      document.getElementById('myIframe').src = fullPath;
    }
  </script>

</body>

</html>